# File: /Omega-Code/servers/robot-controller-backend/.env.example
# Summary:
# Redacted example for documentation and onboarding. Safe to commit.
# Replace placeholder values with your own paths, IPs, and hostnames.

# ===== TLS (optional) =====
CERT_PATH=/ABSOLUTE/PATH/TO/certs/cert.pem
KEY_PATH=/ABSOLUTE/PATH/TO/certs/server.key

# ===== Primary host addressing (examples; replace for your setup) =====
# Example LAN IP of the robot host (change to your device's LAN IP, e.g., 192.168.1.x or 10.0.0.x)
PI_IP=192.168.0.10
# Example Tailscale IP (your device will have a unique 100.x.x.x address after `tailscale up`)
TAILSCALE_IP_PI=100.64.0.10

# Convenience (used by scripts to choose SSH target)
PI_HOST=robot@${PI_IP}
USE_TAILSCALE=1
# If you use MagicDNS, you can set TS_HOST=robot@robot (or robot@robot.tailnet-example.ts.net)
TS_HOST=robot@${TAILSCALE_IP_PI}

# Bind address for services (listen on all interfaces so LAN/Tailscale/BtPAN work)
BIND_HOST=0.0.0.0

# ===== Ports =====
PORT_MOVEMENT=8081
PORT_ULTRASONIC=8080
PORT_LIGHTING=8082
PORT_LINE_TRACKER=8090
PORT_LOCATION=8091
VIDEO_PORT=5000

# ===== CORS / Origin allowlist for UI =====
# Comma-separated allowed page origins (scheme+host+port).
# Include your actual UI origins in your private .env (localhost + LAN + Tailscale).
ORIGIN_ALLOW=http://localhost:3000,http://127.0.0.1:3000,http://192.168.0.10:3000,http://100.64.0.10:3000
# (If using MagicDNS, you can also allow something like: http://robot.tailnet-example.ts.net:3000)

# (Optional) Friendly public URLs for logs only (leave empty if not using hostnames)
# PUBLIC_BASE_URL=
# PUBLIC_BASE_URL_ALT=

# ===== Ultrasonic WS server (env-configured) =====
ULTRA_PATH=/ultrasonic
ULTRA_MEASURE_INTERVAL=1s      # sampling rate
ULTRA_WRITE_TIMEOUT=1500ms     # per-message write deadline
ULTRA_READ_LIMIT=4096          # max incoming frame bytes
ULTRA_LOG_EVERY=5s             # periodic terminal log of distance (0 to disable)
ULTRA_LOG_DELTA_CM=10          # also log when change >= N cm
# ULTRA_READ_TIMEOUT=0s        # keep at 0s (disabled); JSON pings keep it alive

# ===== Hardware flags =====
USE_RPI=true
USE_JETSON_NANO=false
PLACEHOLDER_WHEN_NO_CAMERA=1
FRAME_STALE_MS=2500
AUTO_PLACEHOLDER_AFTER_MISSES=50

# Prefer the CSI/libcamera path when available
CAMERA_BACKEND=picamera2   # options: auto | picamera2 | v4l2  (default: auto)

# Device path for camera capture
CAMERA_DEVICE=/dev/video0

# Capture resolution (recommended for Pi performance)
CAMERA_WIDTH=640
CAMERA_HEIGHT=480

# Frames per second (recommendation based on hardware predictor)
CAMERA_FPS=30

# Enable the hardware diagnostic tool at server startup:
# 0 = disabled (normal use)
# 1 = run hw_check.py automatically before initializing camera
CAMERA_TEST_MODE=0
