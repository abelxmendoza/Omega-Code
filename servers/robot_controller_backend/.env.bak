# File: /Omega-Code/servers/robot-controller-backend/.env
# Summary:
# Private runtime configuration for the robot backend services.
# Exposes host/IPs, ports, CORS allowlist, and feature flags.
# DO NOT COMMIT this file. Commit a redacted `.env.example` instead.

# ===== TLS (optional) =====
CERT_PATH=/Users/abel_elreaper/Desktop/Omega-Code/servers/robot-controller-backend/certs/cert.pem
KEY_PATH=/Users/abel_elreaper/Desktop/Omega-Code/servers/robot-controller-backend/certs/server.key

# ===== Primary host addressing (private) =====
# Your robot's LAN + Tailscale IPs (source of truth for scripts + docs)
PI_IP=192.168.1.107
TAILSCALE_IP_PI=100.93.225.61

# Convenience (used by scripts/connect_robot_bluetooth.sh for SSH selection)
PI_HOST=omega1@${PI_IP}
USE_TAILSCALE=1
TS_HOST=omega1@${TAILSCALE_IP_PI}    # If you enable MagicDNS, you can use: omega1@omega1

# Bind address for services (listen on all interfaces so LAN/Tailscale/BtPAN work)
BIND_HOST=0.0.0.0

# ===== Ports =====
PORT_MOVEMENT=8081
PORT_ULTRASONIC=8080
PORT_LIGHTING=8082
PORT_LINE_TRACKER=8090
PORT_LOCATION=8091
VIDEO_PORT=5000

# ===== CORS / Origin allowlist for UI =====
# Comma-separated list of allowed page origins (scheme+host+port).
# Add your dev/prod UI origins here (localhost + LAN + Tailscale).
ORIGIN_ALLOW=http://localhost:3000,http://127.0.0.1:3000,http://192.168.1.107:3000,http://100.93.225.61:3000

# (Optional) Friendly public URLs for logs only (leave empty if not using hostnames)
# PUBLIC_BASE_URL=
# PUBLIC_BASE_URL_ALT=

# ===== Ultrasonic WS server (env-configured) =====
ULTRA_PATH=/ultrasonic
ULTRA_MEASURE_INTERVAL=1s      # sampling rate
ULTRA_WRITE_TIMEOUT=1500ms     # per-message write deadline
ULTRA_READ_LIMIT=4096          # max incoming frame bytes
ULTRA_LOG_EVERY=5s             # periodic terminal log of distance (0 to disable)
ULTRA_LOG_DELTA_CM=10          # also log when change >= N cm
# ULTRA_READ_TIMEOUT=0s        # keep at 0s (disabled); JSON pings keep it alive

# ===== Hardware flags =====
USE_RPI=true
USE_JETSON_NANO=false
PLACEHOLDER_WHEN_NO_CAMERA=1
FRAME_STALE_MS=2500
AUTO_PLACEHOLDER_AFTER_MISSES=50

# Prefer the CSI/libcamera path when available
CAMERA_BACKEND=picamera2   # options: auto | picamera2 | v4l2  (default: auto)


CAPTURE_DIR=/home/omega1/Omega-Code/captures/backend
