# File: /Omega-Code/servers/robot-controller-backend/requirements.txt

# --- Core hardware libs (Raspberry Pi) ---
# Pi 4/3 use RPi.GPIO. Use the a4 build if possible (works well on 64-bit).
RPi.GPIO==0.7.1a4 ; platform_machine == "armv7l" or platform_machine == "aarch64"

# Pi 5 uses lgpio via apt, not pip. Keep this commented to avoid pip errors.
# Install with: sudo apt-get install -y python3-lgpio
# lgpio

rpi_ws281x
smbus2==0.4.1
Adafruit-PCA9685==1.0.1

# --- Web servers / sockets ---
Flask==2.3.3
Werkzeug==2.3.8
flask-cors==4.0.1
Flask-SocketIO==5.3.2
eventlet==0.33.1
websockets>=12,<13

# --- Utilities ---
python-dotenv==1.0.1
requests==2.31.0
rich==13.7.1

# --- Testing ---
pytest==8.2.2
pytest-mock==3.14.0
mock==4.0.3

# --- Vision (headless OpenCV) ---
# Pin NumPy 1.x so OpenCV wheels import cleanly on ARM; avoids the NumPy 2.x ABI crash.
numpy==1.26.4
opencv-python-headless==4.9.0.80

# (Optional) process manager for production runs
gunicorn==21.2.0
